<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <title>Создание точки</title>
    <link rel="stylesheet" href="styles/main.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <header><h1>Новая точка</h1></header>
    <main>
        <form id="point-form">
            <label>X: <input type="number" id="x" required /></label>
            <label>Y: <input type="number" id="y" required /></label>
            <label>Радиус: <input type="number" id="radius" value="30" required /></label>
            <label>Цвет: <input type="color" id="color" value="#adc178" /></label>
            <button type="submit">Создать</button>
        </form>
        <a href="index.html" class="btn-link">Назад</a>
    </main>
    <script>
    $('#point-form').on('submit', function (e) {
      e.preventDefault();
      $.ajax({
        url: '/api/points',
        method: 'POST',
        contentType: 'application/json',
        data: JSON.stringify({
          x: +$('#x').val(),
          y: +$('#y').val(),
          radius: +$('#radius').val(),
          color: $('#color').val(),
          comments: []
        }),
        success: () => window.location.href = 'index.html'
      });
    });
    </script>
</body>
</html>
